(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{101:function(e,t,a){"use strict";a.r(t);var n=a(20),r=a.n(n),l=a(21),o=a.n(l),i=a(22),s=a.n(i),c=a(23),m=a.n(c),u=a(34),d=a.n(u),p=a(24),f=a.n(p),h=a(0),v=a.n(h),E=a(77),g=v.a.lazy(function(){return a.e(6).then(a.bind(null,96))}),N=function(e){function a(e){var t;return r()(this,a),(t=s()(this,m()(a).call(this,e))).state={},t}return f()(a,e),o()(a,[{key:"render",value:function(){return v.a.createElement("header",{ref:"header",className:"header"},v.a.createElement("div",{className:"header-wrap"},v.a.createElement("div",{className:"header-wrap-icon"},v.a.createElement("a",{href:"#",className:"icon-large",onClick:this.toggleSideBar.bind(this)},v.a.createElement("span",{className:"icon-large"},"Royal Resorts"),v.a.createElement("span",{className:"icon-small"},"RR")),v.a.createElement("a",{onClick:this.toggleSideBar.bind(this),role:"button",className:"navbar-burger icon-small","aria-label":"menu","aria-expanded":"false"},v.a.createElement("span",{"aria-hidden":"true"}),v.a.createElement("span",{"aria-hidden":"true"}),v.a.createElement("span",{"aria-hidden":"true"}))),v.a.createElement("div",{className:"header-wrap-container"},v.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},v.a.createElement("div",{className:"navbar-brand"},v.a.createElement("a",{className:"navbar-item",href:"#"},v.a.createElement("img",{src:"https://www.royalresorts.com/wp-content/uploads/2016/01/Royal-Resorts-Logo.png"})),v.a.createElement("a",{onClick:this.toggleSideBar.bind(this),role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},v.a.createElement("span",{"aria-hidden":"true"}),v.a.createElement("span",{"aria-hidden":"true"}),v.a.createElement("span",{"aria-hidden":"true"}))),v.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},v.a.createElement("div",{className:"navbar-end"},v.a.createElement(h.Suspense,{fallback:v.a.createElement("div",null,"Loading...")},v.a.createElement(g,null))))))))}},{key:"toggleSideBar",value:function(e){e.preventDefault(),window.nRoyal.toggleClass(document.getElementsByTagName("body")[0],"sidebar-open")}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){console.log("cargo")}}]),a}(h.Component),b=function(e){function a(e){var t;return r()(this,a),(t=s()(this,m()(a).call(this,e))).state={},t}return f()(a,e),o()(a,[{key:"render",value:function(){return v.a.createElement("footer",{ref:"footer",className:"footer"},v.a.createElement("div",{className:"content has-text-centered"},v.a.createElement("p",null,v.a.createElement("strong",null,"Narilearsi")," by"," ")))}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}}]),a}(h.Component),y=a(10),k=function(e){var t=e.text,a=e.textIcon,n=void 0===a?null:a,r=null!=t&&""!=t?t:"Default";return v.a.createElement("a",{className:"item parentAside"},v.a.createElement("span",null,r),null==n?v.a.createElement("i",{className:"fas fa-question"}):v.a.createElement("i",{className:n}))};a.e(0).then(a.t.bind(null,97,7));var w=function(e){function a(e){var t;return r()(this,a),(t=s()(this,m()(a).call(this,e))).state={},t}return f()(a,e),o()(a,[{key:"render",value:function(){return v.a.createElement("aside",{className:"menu ",id:"MenuPrincipal"},this.props.user&&this.props.user.logged&&v.a.createElement("div",{className:"card user"},v.a.createElement("div",{className:"card-content"},v.a.createElement("div",{className:"media"},v.a.createElement("div",{className:"media-left"},v.a.createElement("figure",{className:"image is-48x48"},v.a.createElement("img",{src:"https://bulma.io/images/placeholders/96x96.png",alt:"Placeholder image"}))),v.a.createElement("div",{className:"media-content"},this.props.user&&v.a.createElement(v.a.Fragment,null,v.a.createElement("p",{className:"title is-5"},this.props.user.info.name),v.a.createElement("p",{className:"subtitle is-6"},this.props.user.info.email)))))),v.a.createElement("p",{className:"menu-label"},"Administration "),v.a.createElement("ul",{className:"menu-list"},v.a.createElement("li",null,v.a.createElement(k,{text:"Contacts",textIcon:"fas fa-address-book"})),v.a.createElement("li",null,v.a.createElement(k,{text:"Sections",textIcon:"fab fa-microsoft"}))),v.a.createElement("p",{className:"menu-label"},"General"),v.a.createElement("ul",{className:"menu-list"},v.a.createElement("li",null,v.a.createElement(k,{text:"Pages",textIcon:"far fa-file-alt"})),v.a.createElement("li",null,v.a.createElement(k,{text:"Gallery",textIcon:"far fa-images"}))))}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}}]),a}(h.Component),S=a(79),I=a.n(S),C=a(75),D=function(e){function a(e){var t;return r()(this,a),(t=s()(this,m()(a).call(this,e))).state={},t}return f()(a,e),o()(a,[{key:"render",value:function(){return v.a.createElement("div",{className:"panel Dashboard-Default"},v.a.createElement("div",{className:"panel-block"},"contenid"))}}]),a}(h.Component),x=function(e){function a(e){var t;return r()(this,a),(t=s()(this,m()(a).call(this,e))).state={cargado:!1},t}return f()(a,e),o()(a,[{key:"render",value:function(){return v.a.createElement("div",{className:"dashboard"},v.a.createElement("div",{className:"panelWrappers"},v.a.createElement(D,null),v.a.createElement(D,null),v.a.createElement(D,null)))}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=document.getElementById("header"),t=document.getElementById("footer");window.innerHeight;null!=e&&console.log(e.clientHeight),null!=t&&console.log(t.clientHeight)}}]),a}(h.Component),A=function(e){function a(e){var t;return r()(this,a),(t=s()(this,m()(a).call(this,e))).state={cargado:!1},t}return f()(a,e),o()(a,[{key:"render",value:function(){return v.a.createElement("div",{className:"About"},v.a.createElement("div",null,"este es mi About y mi div.about"))}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}}]),a}(h.Component);function F(e){return v.a.createElement(C.a,{path:e.path,component:e.component})}var B=function(e){function t(){return r()(this,t),s()(this,m()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"render",value:function(){return v.a.createElement("div",{id:"formAdmin"},this.props.routes.map(function(e,t){return v.a.createElement(F,I()({key:t},e))}))}}]),t}(h.Component),M=a(1),z=a.n(M),W=a(80),H=a.n(W),T=a(8),P=a.n(T),R=a(12),L=a.n(R),j=a(18),G=v.a.lazy(function(){return a.e(9).then(a.t.bind(null,98,7))}),O=v.a.lazy(function(){return a.e(7).then(a.bind(null,99))}),U=v.a.lazy(function(){return a.e(8).then(a.bind(null,100))}),q=null,J=(L()(P.a.mark(function e(){var t;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(a.t.bind(null,17,7)).then(function(e){return e});case 2:t=e.sent,q=t;case 4:case"end":return e.stop()}},e)}))(),function(e){function n(e){var t;r()(this,n);var a=(t=s()(this,m()(n).call(this,e))).props.match.params.code?t.props.match.params.code:H()(Array(10)).map(function(e){return(~~(36*Math.random())).toString(36)}).join("");return t.state={openDropdown:!1,previewActive:!1,name:"",code:a,formItems:[],formString:{name:"",code:a,formulario:{form:{action:"#",type:"post",title:"Default"}},data:[]}},t.readFormItems=t.readFormItems.bind(d()(t)),t.removeInput=t.removeInput.bind(d()(t)),t.onBlurButtonAddControl=t.onBlurButtonAddControl.bind(d()(t)),t.sendFormToApi=t.sendFormToApi.bind(d()(t)),t}return f()(n,e),o()(n,[{key:"componentDidMount",value:function(){this.props.match.params.code&&console.log("esta es una actualizacion")}},{key:"removeInput",value:function(a){var n=null,e=q.compact(q.remove(this.state.formItems,function(e,t){if(a.props.idInput!=e.props.idInput)return e;n=t})),t=q.compact(q.remove(this.state.formString.data,function(e,t){if(t!=n)return e}));this.setState({formItems:e,formString:z()({},this.state.formString,{data:t})})}},{key:"addNewInput",value:function(e){e.preventDefault();var t=this.state.formItems,a=parseInt(t.length+1)+"-Input";t.push(v.a.createElement(O,{key:a,remove:this.removeInput,idInput:t.length,readItems:this.readFormItems}));var n=this.state.formString;n.data.push({input:{label:"",type:"text",value:"",name:""}}),this.setState({openDropdown:!1,formItems:t,formString:z()({},n)})}},{key:"addNewSelect",value:function(e){e.preventDefault();var t=this.state.formItems,a=parseInt(t.length+1)+"-Input";t.push(v.a.createElement(U,{key:a,remove:this.removeInput,idInput:t.length,readItems:this.readFormItems}));var n=this.state.formString;n.data.push({select:{label:"",value:"",options:[]}}),this.setState({openDropdown:!1,formItems:t,formString:z()({},n)})}},{key:"readFormItems",value:function(e){var t=this.state.formString,a=null;Object.keys(t.data[e.props.idInput]).map(function(e){a=e}),null!=a&&(t.data[e.props.idInput][a]=e.state,this.setState({formString:z()({},t)}))}},{key:"changeTypeForm",value:function(e){this.setState({formString:z()({},this.state.formString,{formulario:z()({},this.state.formString.formulario,{form:z()({},this.state.formString.formulario.form,{type:e.target.value})})})})}},{key:"toggleDropdown",value:function(e){1==this.state.openDropdown?this.setState({openDropdown:!1}):this.setState({openDropdown:!0})}},{key:"onBlurButtonAddControl",value:function(e){var t=this;setTimeout(function(){t.setState({openDropdown:!1})},500)}},{key:"togglePreviewActive",value:function(e){1==this.state.previewActive?this.setState({previewActive:!1}):this.setState({previewActive:!0})}},{key:"sendFormToApi",value:function(e){var t={name:this.state.formString.name,code:this.state.formString.code,formulario:z()({},this.state.formString.formulario,{data:this.state.formString.data})};this.props.setForm(t)}},{key:"render",value:function(){var t=this;return v.a.createElement("div",{className:"section"},v.a.createElement("div",{className:"container"},v.a.createElement("div",{className:"panel has-background-white"},v.a.createElement("div",{className:"panel-heading"},v.a.createElement("div",{className:"level"},v.a.createElement("div",{className:"level-left"},v.a.createElement("p",null,"New Form ")),v.a.createElement("div",{className:"level-right"},v.a.createElement("a",{onClick:this.togglePreviewActive.bind(this),className:"button ".concat(1==this.state.previewActive&&"is-active")},v.a.createElement("span",null,"Preview"),v.a.createElement("span",{className:"icon"},1==this.state.previewActive?v.a.createElement("i",{class:"fas fa-eye-slash has-text-danger "}):v.a.createElement("i",{className:"fas fa-eye has-text-primary"}))),v.a.createElement("div",{id:"inputsDropdown",className:"dropdown ".concat(1==this.state.openDropdown?"is-active":"")},v.a.createElement("div",{className:"dropdown-trigger"},v.a.createElement("button",{onClick:this.toggleDropdown.bind(this),onBlur:this.onBlurButtonAddControl,className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu"},v.a.createElement("span",null,"New "),v.a.createElement("span",{className:"icon is-small"},v.a.createElement("i",{className:"fas fa-ellipsis-v"})))),v.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu"},v.a.createElement("div",{className:"dropdown-content"},v.a.createElement("a",{href:"#",onClick:this.addNewInput.bind(this),className:"dropdown-item"},"Input Control"),v.a.createElement("a",{onClick:this.addNewSelect.bind(this),href:"#",className:"dropdown-item"},"Select Control"))))))),v.a.createElement("div",{className:"panel-block preview"},v.a.createElement("div",{className:"wrapper-preview ".concat(1==this.state.previewActive&&"active")},v.a.createElement(h.Suspense,{fallback:v.a.createElement("div",null,"Loading...")},v.a.createElement(G,{src:this.state.formString}," ")))),v.a.createElement("div",{className:"panel-block formConfiguration"},v.a.createElement("div",{className:"columns has-background-light"},v.a.createElement("div",{className:"column "},v.a.createElement("div",{className:"field is-horizontal"},v.a.createElement("label",{htmlFor:"",className:"label field-label"},"Name"),v.a.createElement("div",{className:"control field-body"},v.a.createElement("input",{className:"input",onChange:function(e){t.setState({formString:z()({},t.state.formString,{formulario:{form:z()({},t.state.formulario.form,{title:e.target.value})},name:e.target.value})})},type:"text",placeholder:"Name"}))),v.a.createElement("div",{className:"field is-horizontal"},v.a.createElement("label",{htmlFor:"",className:"label field-label"},"Type"),v.a.createElement("div",{className:" field-body"},v.a.createElement("div",{className:"control select"},v.a.createElement("select",{onChange:this.changeTypeForm.bind(this)},v.a.createElement("option",{value:"post"},"Post"),v.a.createElement("option",{value:"get"},"Get")))))),v.a.createElement("div",{className:"column is-one-third"},v.a.createElement("div",{className:"field is-horizontal"},v.a.createElement("label",{htmlFor:"",className:"label field-label"},"Code"),v.a.createElement("div",{className:"control field-body"},v.a.createElement("input",{onChange:function(e){t.setState({formString:z()({},t.state.formString,{code:e.target.value})})},defaultValue:this.state.code,className:"input",type:"text",placeholder:"Code"})))),v.a.createElement("div",{className:"column is-one-third"},v.a.createElement("div",{className:"field is-horizontal"},v.a.createElement("label",{htmlFor:"",className:"label field-label"},"Action"),v.a.createElement("div",{className:"control field-body"},v.a.createElement("input",{onChange:function(e){t.setState({formString:z()({},t.state.formString,{formulario:z()({},t.state.formString.formulario,{form:z()({},t.state.formString.formulario.form,{action:e.target.value})})})})},className:"input",type:"text",placeholder:"Action"})))))),v.a.createElement("div",{className:"panel-block has-background-light"},v.a.createElement("div",{className:"form-content"},v.a.createElement("div",{className:"columns"},v.a.createElement("div",{className:"column"},v.a.createElement("div",{className:"panel"},v.a.createElement("div",{className:"panel-block",style:{borderWidth:"0px"}},v.a.createElement("div",{className:"container itemsForm"},this.state.formItems))))))),v.a.createElement("div",{className:"panel-block submit"},v.a.createElement("a",{onClick:this.sendFormToApi,className:"button is-success is-hoverable",href:"#"},"Guardar")))))}}]),n}(h.Component));var V=Object(y.b)(function(e){return{forms:e.forms}},{setForm:j.c})(J),K=[{path:"/Dashboard",component:x},{path:"/about",component:A},{path:"/forms",component:B,routes:[{path:"/forms/createForm",component:V},{path:"/forms/updateForm/:code",component:V}]}];function Q(t){return v.a.createElement(C.a,{path:t.path,render:function(e){return v.a.createElement(t.component,I()({},e,{routes:t.routes}))}})}var X=function(e){function a(e){var t;return r()(this,a),(t=s()(this,m()(a).call(this,e))).state={},t}return f()(a,e),o()(a,[{key:"render",value:function(){return v.a.createElement("div",{ref:"content",className:"appContent"},K.map(function(e,t){return v.a.createElement(Q,I()({key:t},e))}))}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}}]),a}(h.Component),Y=a(4);a.e(2).then(a.bind(null,95)).then(function(e){e.initFrame()});var Z=function(e){function a(e){var t;return r()(this,a),(t=s()(this,m()(a).call(this,e))).state={},t.updateDimensions=t.updateDimensions.bind(d()(t)),t}return f()(a,e),o()(a,[{key:"render",value:function(){var t=this;return v.a.createElement(E.a,null,v.a.createElement("div",{className:"App"},v.a.createElement(Notifications,null),v.a.createElement(N,{ref:function(e){return t.Header=e}}),v.a.createElement(X,{ref:function(e){return t.Wrapper=e}}),v.a.createElement(w,null),v.a.createElement(b,{ref:function(e){return t.Footer=e},id:"footer"})))}},{key:"componentDidMount",value:function(){this.props.fetchUser(),this.updateDimensions(),window.addEventListener("resize",this.updateDimensions),(document.querySelectorAll(".notification .delete")||[]).forEach(function(e){var t=e.parentNode;e.addEventListener("click",function(){t.parentNode.removeChild(t)})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"updateDimensions",value:function(){var e=0,t=0;null!=this.Header&&(e=this.Header.refs.header.clientHeight),null!=this.Footer&&(t=this.Footer.refs.footer.clientHeight),this.Wrapper.refs.content.style.height=parseInt(parseInt(window.innerHeight)-parseInt(e)-parseInt(t))+"px"}}]),a}(h.Component);t.default=Object(y.b)(null,{fetchUser:Y.c})(Z)}}]);